-- H2 2.1.214;
;             
CREATE USER IF NOT EXISTS "SA" SALT '197c2a8cd322139a' HASH '1c945997c8d1c444724da2e2877a21f8cdd6a182fbadc7c6bb147c8e64eb006c' ADMIN;         
CREATE MEMORY TABLE "PUBLIC"."CUSTOMER"(
    "ID" INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 8) NOT NULL,
    "EMAIL" CHARACTER VARYING(255),
    "LOCATION" CHARACTER VARYING(255),
    "MOBILE" CHARACTER VARYING(255),
    "NAME" CHARACTER VARYING(255)
);  
ALTER TABLE "PUBLIC"."CUSTOMER" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_5" PRIMARY KEY("ID");     
-- 7 +/- SELECT COUNT(*) FROM PUBLIC.CUSTOMER;
INSERT INTO "PUBLIC"."CUSTOMER" VALUES
(1, 'devendra@gmail.com', 'Pune', '9049052816', 'Devendra Sanghavi'),
(2, 'emilybrown@example.com', 'San Francisco', '1234567890', 'Emily Brown'),
(3, 'michaeljohnson@example.com', 'Seattle', '9876543210', 'Michael Johnson'),
(4, 'sophiadavis@example.com', 'Boston', '5555555555', 'Sophia Davis'),
(5, 'johndoe@example.com', 'New York', '1234567890', 'John Doe'),
(6, 'janesmith@example.com', 'Los Angeles', '9876543210', 'Jane Smith'),
(7, 'mikejohnson@example.com', 'Chicago', '5555555555', 'Mike Johnson');   
CREATE MEMORY TABLE "PUBLIC"."SHOPPING_CART"(
    "ID" INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "CART_AMOUNT" FLOAT(53),
    "CART_ITEM_QUANTITY" INTEGER,
    "IS_CART_EMPTY" BOOLEAN,
    "CUSTOMER_ID" INTEGER
);        
ALTER TABLE "PUBLIC"."SHOPPING_CART" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_59" PRIMARY KEY("ID");               
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.SHOPPING_CART;           
INSERT INTO "PUBLIC"."SHOPPING_CART" VALUES
(1, 18000.0, 1, FALSE, 1);       
CREATE MEMORY TABLE "PUBLIC"."PRODUCT"(
    "ID" INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 8) NOT NULL,
    "PRODUCT_COST" FLOAT(53),
    "PRODUCT_NAME" CHARACTER VARYING(255),
    "PRODUCT_QTY" INTEGER,
    "PRODUCT_MODEL" CHARACTER VARYING(255),
    "ORDER_ID" INTEGER,
    "CART_ID" INTEGER
);     
ALTER TABLE "PUBLIC"."PRODUCT" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_1" PRIMARY KEY("ID");      
-- 7 +/- SELECT COUNT(*) FROM PUBLIC.PRODUCT; 
INSERT INTO "PUBLIC"."PRODUCT" VALUES
(1, 17255.0, 'Samsung Galaxy Tab A', 122, 'SM-GLX-A', 1, NULL),
(2, 1099.99, 'iPhone 13', 10, 'A2628', NULL, NULL),
(3, 999.99, 'Samsung Galaxy S21', 5, 'SM-G991U', NULL, NULL),
(4, 799.99, 'Google Pixel 6', 7, 'GD1YQ', NULL, NULL),
(5, 499.99, 'Sony PlayStation 5', 3, 'CUH-2200', NULL, NULL),
(6, 299.99, 'Nintendo Switch', 8, 'HAC-001', NULL, NULL),
(7, 299.0, 'Bose QuietComfort 35 II', 12, 'QC35 II', NULL, NULL);               
CREATE MEMORY TABLE "PUBLIC"."ORDERS"(
    "ID" INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 2) NOT NULL,
    "CREATED_AT" CHARACTER VARYING(255),
    "ORDER_DESCRIPTION" CHARACTER VARYING(255),
    "UPDATED_AT" CHARACTER VARYING(255),
    "CUSTOMER_ID" INTEGER
);          
ALTER TABLE "PUBLIC"."ORDERS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8" PRIMARY KEY("ID");       
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.ORDERS;  
INSERT INTO "PUBLIC"."ORDERS" VALUES
(1, '2023-11-03 18:01:44.137292', 'Order-placed-by-Devendra-for-1Phone', '2023-11-03 18:01:44.137292', 1);              
ALTER TABLE "PUBLIC"."SHOPPING_CART" ADD CONSTRAINT "PUBLIC"."UK_1RMR0LK8NKOC589AR0AGGK05" UNIQUE("CUSTOMER_ID");             
ALTER TABLE "PUBLIC"."SHOPPING_CART" ADD CONSTRAINT "PUBLIC"."FKH7DB6PDGS2OL2T6K73WN3XJ75" FOREIGN KEY("CUSTOMER_ID") REFERENCES "PUBLIC"."CUSTOMER"("ID") NOCHECK;           
ALTER TABLE "PUBLIC"."PRODUCT" ADD CONSTRAINT "PUBLIC"."FKF29STAO3LR91JKH8V8YQGRDUL" FOREIGN KEY("CART_ID") REFERENCES "PUBLIC"."SHOPPING_CART"("ID") NOCHECK;
ALTER TABLE "PUBLIC"."PRODUCT" ADD CONSTRAINT "PUBLIC"."FK18J7HOT76CRQFB6X6XN7MLXT6" FOREIGN KEY("ORDER_ID") REFERENCES "PUBLIC"."ORDERS"("ID") NOCHECK;      
ALTER TABLE "PUBLIC"."ORDERS" ADD CONSTRAINT "PUBLIC"."FK624GTJIN3PO807J3VIX093TLF" FOREIGN KEY("CUSTOMER_ID") REFERENCES "PUBLIC"."CUSTOMER"("ID") NOCHECK;  
